webpackJsonp([1],{13:function(t,e){t.exports=function(t,e,n,s,o,i){var r,a=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(r=t,a=t.default);var c,l="function"==typeof a?a.options:a;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId=o),i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=c):s&&(c=s),c){var d=l.functional,f=d?l.render:l.beforeCreate;d?(l._injectStyles=c,l.render=function(t,e){return c.call(e),f(t,e)}):l.beforeCreate=f?[].concat(f,c):[c]}return{esModule:r,exports:a,options:l}}},193:function(t,e,n){n(194),t.exports=n(624)},194:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(101),o=n.n(s),i=n(204),r=n.n(i),a=n(111),u=n.n(a);window._=n(96);try{window.Popper=n(97),window.$=window.jQuery=n(98),n(99)}catch(t){}var c=n(100);c.overrideDefaults({layout:"bottomLeft",theme:"sunset",maxVisible:3,timeout:1500,progressBar:!0}),window.noty=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";new c({text:t,type:e}).show()},window.Vue=n(62),o.a.config("https://ca531f3472b84584a5435bd09d2235cb@sentry.io/175797").addPlugin(r.a,Vue).install(),window.marked=n(103),marked.setOptions({highlight:function(t){return n(104).highlightAuto(t).value},sanitize:!0}),window.axios=n(105),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var l=$("meta[name=csrf-token]").attr("content");l?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=l:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token"),window.io=n(112),window.Echo=new u.a({broadcaster:"socket.io",host:window.location.hostname+":6001"});var d=n(124),f=n(62);n.n(f).a.use(d.default);var p=new d.default.Store({state:{nots:[],posts:[],auth_user:{}},getters:{all_nots:function(t){return t.nots},all_nots_count:function(t){return t.nots.length},all_posts:function(t){return t.posts}},mutations:{ADD_NOT:function(t,e){t.nots.push(e)},ADD_POST:function(t,e){t.posts.unshift(e)},AUTH_USER_DATA:function(t,e){t.auth_user=e},UPDATE_POST_LIKES:function(t,e){t.posts.find(function(t){return t.id===e.id}).likes.push(e.like)},UNLIKE_POST:function(t,e){var n=t.posts.find(function(t){return t.id===e.post_id}),s=n.likes.find(function(t){return t.id===e.like_id}),o=n.likes.indexOf(s);n.likes.splice(o,1)}},actions:{}});Vue.component("friend",n(421)),Vue.component("post",n(424)),Vue.component("feed",n(427)),Vue.component("notification",n(435)),Vue.component("unread",n(438)),Vue.component("search",n(441));new Vue({el:"#app",store:p})},204:function(t,e){t.exports=function(t,e){if((e=e||window.Vue)&&e.config){var n=e.config.errorHandler;e.config.errorHandler=function(e,s,o){var i={};"[object Object]"===Object.prototype.toString.call(s)&&(i.componentName=function(t){if(t.$root===t)return"root instance";var e=t._isVue?t.$options.name||t.$options._componentTag:t.name;return(e?"component <"+e+">":"anonymous component")+(t._isVue&&t.$options.__file?" at "+t.$options.__file:"")}(s),i.propsData=s.$options.propsData),void 0!==o&&(i.lifecycleHook=o),t.captureException(e,{extra:i}),"function"==typeof n&&n.call(this,e,s,o)}}}},421:function(t,e,n){var s=n(13)(n(422),n(423),!1,null,null,null);t.exports=s.exports},422:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){var t=this;axios.get("/api/friend/check/"+this.profile_user_slug).then(function(e){t.status=e.data.status,t.loading=!1})},props:["profile_user_slug"],data:function(){return{status:"",loading:!0}},methods:{add_friend:function(){var t=this;this.loading=!0,axios.get("/api/friend/add/"+this.profile_user_slug).then(function(e){t.status="waiting",noty("Friend request sent"),t.loading=!1})},accept_friend:function(){var t=this;this.loading=!0,axios.get("/api/friend/accept/"+this.profile_user_slug).then(function(e){t.status="friends",noty("you are now friends"),t.loading=!1})},delete_friend:function(){var t=this;this.loading=!0,axios.get("/api/friend/delete/"+this.profile_user_slug).then(function(e){t.status="not_friends",t.loading=!1})}}}},423:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("p",{staticClass:"text-center"},[t._v("\n    Loading...\n  ")]):t._e(),t._v(" "),t.loading?t._e():n("p",{staticClass:"text-center"},["not_friends"==t.status?n("button",{staticClass:"btn btn-outline-success",on:{click:t.add_friend}},[t._v("Add Friend")]):t._e(),t._v(" "),"pending"==t.status?n("button",{staticClass:"btn btn-outline-success",on:{click:t.accept_friend}},[t._v("Accept Friend")]):t._e(),t._v(" "),"waiting"==t.status?n("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){t.delete_friend()}}},[t._v("Cancel friend request")]):t._e(),t._v(" "),"friends"==t.status?n("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){t.delete_friend()}}},[t._v("Unfriend")]):t._e()])])},staticRenderFns:[]}},424:function(t,e,n){var s=n(13)(n(425),n(426),!1,null,null,null);t.exports=s.exports},425:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{content:"",not_working:!0}},methods:{create_post:function(){var t=this;axios.post("/api/post/create",{content:this.content}).then(function(e){t.content="",noty("Your post has been published"),t.$store.commit("ADD_POST",e.data)})}},watch:{content:function(){this.content.length>0?this.not_working=!1:this.not_working=!0}}}},426:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container mb-3"},[n("div",{staticClass:"row justify-content-lg-center"},[n("div",{staticClass:"col-lg-10"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{rows:"5",placeholder:"What is on your mind?"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("button",{staticClass:"btn btn-outline-success pull-right",attrs:{disabled:t.not_working},on:{click:function(e){t.create_post()}}},[t._v("\n            Create a post\n          ")])])])])])])},staticRenderFns:[]}},427:function(t,e,n){var s=n(13)(n(429),n(434),!1,function(t){n(428)},null,null);t.exports=s.exports},428:function(t,e){},429:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(430),o=n.n(s);e.default={components:{Like:o.a},mounted:function(){this.get_feed()},methods:{get_feed:function(){var t=this;axios.get("/api/feed").then(function(e){e.data.map(function(e){t.$store.commit("ADD_POST",e)})})},marked:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return marked(t)})},computed:{posts:function(){return this.$store.getters.all_posts}}}},430:function(t,e,n){var s=n(13)(n(432),n(433),!1,function(t){n(431)},null,null);t.exports=s.exports},431:function(t,e){},432:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["id"],computed:{auth_user_likes_post:function(){return this.likers.includes(this.$store.state.auth_user.id)},likers:function(){return this.post.likes.map(function(t){return t.user.id})},post:function(){var t=this;return this.$store.state.posts.find(function(e){return e.id===t.id})}},methods:{like:function(){var t=this;axios.post("/api/like/"+this.id).then(function(e){t.$store.commit("UPDATE_POST_LIKES",{id:t.id,like:e.data}),noty("Your successfully like the post")})},unlike:function(){var t=this;axios.post("/api/unlike/"+this.id).then(function(e){t.$store.commit("UNLIKE_POST",{post_id:t.id,like_id:e.data}),noty("Your successfully unlike the post")})}}}},433:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t.post.likes.length>1?n("span",{staticClass:"text-info pull-right"},[t._v(t._s(t.post.likes.length)+" people like this post")]):t._e(),t._v(" "),1==t.post.likes.length?n("span",{staticClass:"text-info pull-right"},[t._v(t._s(t.post.likes.length)+" person like this post")]):t._e(),t._v(" "),0==t.post.likes.length?n("span",{staticClass:"text-info pull-right"},[t._v("Be the first one to like this post")]):t._e()]),t._v(" "),t.auth_user_likes_post?n("button",{staticClass:"btn btn-danger",on:{click:function(e){t.unlike()}}},[t._v("\n    Unlike this post\n  ")]):n("button",{staticClass:"btn btn-primary",on:{click:function(e){t.like()}}},[t._v("\n    Like this post\n  ")])])},staticRenderFns:[]}},434:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-lg-center"},[n("div",{staticClass:"col-lg-10"},t._l(t.posts,function(e){return n("div",{key:e.id,staticClass:"card mb-3"},[n("div",{staticClass:"card-header"},[n("img",{staticClass:"avatar-feed",attrs:{src:e.user.avatar}}),t._v(" "),n("a",{attrs:{href:"/profile/"+e.user.slug}},[t._v(t._s(e.user.name))]),t._v(" "),n("span",{staticClass:"pull-right"},[t._v(t._s(e.created_at))])]),t._v(" "),n("div",{staticClass:"card-body"},[n("p",{domProps:{innerHTML:t._s(t.marked(e.content))}})]),t._v(" "),n("div",{staticClass:"card-footer"},[n("like",{attrs:{id:e.id}})],1)])}))])])},staticRenderFns:[]}},435:function(t,e,n){var s=n(13)(n(436),n(437),!1,null,null,null);t.exports=s.exports},436:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){var t=this;axios.get("/api/user").then(function(e){t.$store.commit("AUTH_USER_DATA",e.data),t.listen()})},methods:{listen:function(){var t=this;Echo.private("App.User."+this.$store.state.auth_user.id).notification(function(e){noty(e.message),t.$store.commit("ADD_NOT",e),document.getElementById("noty_audio").play()})}}}},437:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("span")},staticRenderFns:[]}},438:function(t,e,n){var s=n(13)(n(439),n(440),!1,null,null,null);t.exports=s.exports},439:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){this.get_unread()},methods:{get_unread:function(){var t=this;axios.get("/api/get_unread").then(function(e){e.data.forEach(function(e){t.$store.commit("ADD_NOT",e)})})}},computed:{all_nots_count:function(){return this.$store.getters.all_nots_count}}}},440:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"nav-item ml-3 ml-md-0"},[n("a",{staticClass:"nav-link",attrs:{href:"/notifications"}},[t._v("\n    Unread Notifications\n    "),n("span",{staticClass:"badge badge-info"},[t._v(t._s(t.all_nots_count))])])])},staticRenderFns:[]}},441:function(t,e,n){var s=n(13)(n(443),n(623),!1,function(t){n(442)},null,null);t.exports=s.exports},442:function(t,e){},443:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(125),o=Object(s.createFromAlgoliaCredentials)("P5QXK4OALI","135b6587d2b1ca1a106c3b5efdaa153e");o.start(),o.indexName="users",o.resultsPerPage=3,e.default={data:function(){return{query:"",results:[]}},watch:{query:function(){this.search()}},computed:{opened:function(){return this.results.length>0}},methods:{search:_.debounce(function(t){""!=_.trim(this.query)?(o.query=this.query,this.results=o.results):this.results=[]},100)}}},623:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form-inline my-2 my-md-0 ml-3 ml-md-0 dropdown"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search for other users"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-right",class:{show:t.opened}},t._l(t.results,function(e){return n("a",{key:e.id,staticClass:"dropdown-item my-1",attrs:{href:"/profile/"+e.slug}},[n("img",{staticClass:"search-avatar",attrs:{src:e.avatar}}),t._v(" "+t._s(e.name)+"\n    ")])}))])},staticRenderFns:[]}},624:function(t,e){}},[193]);